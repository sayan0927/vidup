"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PlayBackRatesBtn = void 0;

var _inheritsLoose2 = _interopRequireDefault(require("@babel/runtime/helpers/inheritsLoose"));

var _video = _interopRequireDefault(require("video.js"));

var MenuItem = _video.default.getComponent('MenuItem');

var PlayBackRatesBtn = /*#__PURE__*/function (_MenuItem) {
  (0, _inheritsLoose2.default)(PlayBackRatesBtn, _MenuItem);

  function PlayBackRatesBtn(player, options) {
    var _this;

    _this = _MenuItem.call(this, player, options) || this;
    _this.height = options.height;
    _this.levels = options.levels;
    _this.bitrate = options.bitrate;

    _this.setAttribute('data-bitrate', options.bitrate);

    return _this;
  }

  var _proto = PlayBackRatesBtn.prototype;

  _proto.handleClick = function handleClick(event) {
    var _this2 = this;

    // Add the selected class
    this.parentComponent_.children_.forEach(function (child) {
      child.removeClass('vjs-selected');
    });
    this.addClass('vjs-selected');
    this.levels.forEach(function (level) {
      if (_this2.bitrate === level.bitrate) {
        level.enabled = true;
      } else {
        level.enabled = false;
      }
    });
  };

  return PlayBackRatesBtn;
}(MenuItem);

exports.PlayBackRatesBtn = PlayBackRatesBtn;

_video.default.registerComponent('PlayBackRatesBtn', PlayBackRatesBtn);